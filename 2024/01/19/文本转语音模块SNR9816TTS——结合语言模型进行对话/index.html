<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="ä¸€ä¸ªç§˜å¯†ç©ºé—´" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>æ–‡æœ¬è½¬è¯­éŸ³æ¨¡å—SNR9816TTSâ€”â€”ç»“åˆè¯­è¨€æ¨¡å‹è¿›è¡Œå¯¹è¯ |  LegendLeo Chen çš„ç©ºé—´</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/mylogo.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
<!-- å°é¢æ ‡é—ªçƒ -->
<link rel="stylesheet" href="/css/zhyBlogTitle.css">
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- jqueryï¼Œæ‡’åŠ è½½ã€ç»Ÿè®¡ã€è¯´è¯´éœ€è¦çš„jquery -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><link rel="stylesheet" type="text/css" href="/assets/css/DPlayer.min.css"><script src="/assets/js/DPlayer.min.js"></script></head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-æ–‡æœ¬è½¬è¯­éŸ³æ¨¡å—SNR9816TTSâ€”â€”ç»“åˆè¯­è¨€æ¨¡å‹è¿›è¡Œå¯¹è¯"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  æ–‡æœ¬è½¬è¯­éŸ³æ¨¡å—SNR9816TTSâ€”â€”ç»“åˆè¯­è¨€æ¨¡å‹è¿›è¡Œå¯¹è¯
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2024/01/19/%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E6%A8%A1%E5%9D%97SNR9816TTS%E2%80%94%E2%80%94%E7%BB%93%E5%90%88%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%AF%9D/" class="article-date">
  <time datetime="2024-01-19T04:12:26.000Z" itemprop="datePublished">2024-01-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/">åµŒå…¥å¼</a> / <a class="article-category-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">æœºå™¨å­¦ä¹ </a> / <a class="article-category-link" href="/categories/%E7%A1%AC%E4%BB%B6/">ç¡¬ä»¶</a> / <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> å­—æ•°ç»Ÿè®¡:</span>
            <span class="post-count">2k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> é˜…è¯»æ—¶é•¿â‰ˆ</span>
            <span class="post-count">8 åˆ†é’Ÿ</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>æœ¬æ–‡åŸºäºçš„å·¥ä½œï¼š<a href="/2024/01/15/ESP32%E8%81%8A%E5%A4%A9%E5%8A%A9%E6%89%8B%E2%80%94%E2%80%94%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/" title="ESP32èŠå¤©åŠ©æ‰‹â€”â€”æ–‡å¿ƒä¸€è¨€">ESP32å®ç°çš„æ–‡æœ¬å¯¹è¯â€”â€”åŸºäºæ–‡å¿ƒä¸€è¨€</a><br>æ¨¡å—çš„èµ„æ–™ï¼š<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1SYjj6a_ruBu_QVHq4mydgg?from=init&_at_=1705638174409#list/path=%2F">https://pan.baidu.com/s/1SYjj6a_ruBu_QVHq4mydgg?from=init&amp;_at_=1705638174409#list/path=%2F</a><br>æå–ç ï¼š0000</p>
</blockquote>
<ul>
<li>æˆ‘ä»¬å°†ä½¿ç”¨ SNR9816TTS æ¨¡å—å°†å¤§è¯­è¨€æ¨¡å‹è¾“å‡ºçš„æ–‡æœ¬è½¬ä¸ºè¯­éŸ³åè¿›è¡Œæ’­æ”¾ã€‚  <span id="more"></span></li>
</ul>
<h1 id="ğŸ”¥æ¨¡å—ä»‹ç»"><a href="#ğŸ”¥æ¨¡å—ä»‹ç»" class="headerlink" title="ğŸ”¥æ¨¡å—ä»‹ç»"></a>ğŸ”¥æ¨¡å—ä»‹ç»</h1><ul>
<li>SNR9816TTSæ˜¯åŸºäºè¯­éŸ³åˆæˆç®—æ³•å¼€å‘çš„ä¸€æ¬¾é«˜æµç•…åº¦ï¼Œé«˜è‡ªç„¶åº¦çš„ä¼˜ç¾äººå£°è¯­éŸ³åˆæˆæ¨¡å—ã€‚è¯¥æ¨¡å—æ–¹æ¡ˆåŸºäºæ–°ä¸€ä»£çš„ç¥ç»ç½‘ç»œç®—æ³•ï¼Œçº¯ä¸­æ–‡ç‰ˆé€‰å–äº†ä¼˜è´¨çš„å¥³å£°å‘éŸ³äºº(é»˜è®¤)å’Œç”·å£°å‘éŸ³äºº(æŒ‡ä»¤åˆ‡æ¢)ï¼Œä¸­è‹±æ–‡ç‰ˆåªæ”¯æŒå¥³å£°å‘éŸ³äººï¼Œä»¥æ»¡è¶³å„ç§åº”ç”¨åœºæ™¯çš„åˆæˆæ’­æŠ¥ã€‚æ¨¡å—ä»¥ä¸­æ–‡ä¸ºä¸»ï¼Œæ”¯æŒæ•°å­—ã€è‹±æ–‡(çº¯ä¸­æ–‡ç‰ˆ:å•ä¸ªå­—æ¯å‘éŸ³ã€ä¸­è‹±æ–‡ç‰ˆ:è‹±æ–‡å•è¯å‘éŸ³)ï¼Œæ–‡æœ¬ç¼–ç æ”¯æŒGB2312ã€‚ä¼˜å¼‚çš„åˆæˆæ•ˆæœ(å¯æ‡‚åº¦ã€æ¸…æ™°åº¦ã€è‡ªç„¶åº¦ã€è¡¨ç°åŠ›ã€èŠ‚å¥&#x2F;åœé¡¿ã€è¯­é€Ÿã€è¯­è°ƒã€éŸ³è´¨ã€éŸ³è‰²ã€ç†è§£ç¨‹åº¦)æ–¹é¢æœ‰æ˜¾è‘—æå‡ã€‚</li>
<li>æ­é…å¯¹åº”çš„ä¸Šä½æœºæµ‹è¯•å·¥å…·(TTS TOOL)ï¼Œæ¨¡å—å¯ä»¥é€šè¿‡ä¸²å£(UART)æ¥æ”¶åˆæˆçš„æ–‡æœ¬ï¼Œç›´æ¥åˆæˆè¾“å‡ºè¯­éŸ³æ’­æŠ¥ã€‚</li>
<li>èµ„æ–™é“¾æ¥ä¹Ÿæä¾›äº†arduinoã€STM32ã€52å•ç‰‡æœºçš„ä¾‹ç¨‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨arduinoç¨‹åºåšå°å¹…æ”¹åŠ¨æ­è½½åœ¨ESP32ä¸Šè¿›è¡Œä½¿ç”¨ã€‚</li>
</ul>
<p><img src="/2024/01/19/%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E6%A8%A1%E5%9D%97SNR9816TTS%E2%80%94%E2%80%94%E7%BB%93%E5%90%88%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%AF%9D/%E6%A8%A1%E5%9D%97%E5%A4%96%E8%A7%82.jpg" alt="æ¨¡å—å¤–è§‚"></p>
<ul>
<li>å¼•è„šå®šä¹‰å¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th align="center">å¼•è„šå·</th>
<th align="center">å¼•è„šåç§°</th>
<th align="center">ç±»å‹</th>
<th align="center">IOç”µå‹</th>
<th align="center">ä¸Šç”µé»˜è®¤çŠ¶æ€</th>
<th align="center">åŠŸèƒ½å®šä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">DAC</td>
<td align="center">O</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">DACé€šé“éŸ³é¢‘è¾“å‡º</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">BAUD</td>
<td align="center">I</td>
<td align="center">3.3V</td>
<td align="center">ä½ç”µå¹³</td>
<td align="center">è®¾ç½®UARTé€šä¿¡æ³¢ç‰¹ç‡ï¼Œé€šç”µå‰è®¾ç½®ä¸€æ¬¡<br>é»˜è®¤ä½ç”µå¹³(å¼•è„šæ‚¬ç©º)ï¼š115200bps<br>é«˜ç”µå¹³(3.3V)ï¼š9600bps</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">SPKP</td>
<td align="center">O</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">å–‡å­è¾“å‡º</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">SPKP</td>
<td align="center">O</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">å–‡å­è¾“å‡º</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">GND</td>
<td align="center">P</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">ç”µæºåœ°(æ¨èç”µæºæ¥å…¥)</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">5V</td>
<td align="center">P</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">5Vç”µæº(æ¨èç”µæºè¾“æ¥å…¥)</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">5V</td>
<td align="center">P</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">5Vç”µæº(ä¸æ¨èç”µæºæ¥å…¥)</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">3V3</td>
<td align="center">P</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">3.3Vç”µæºè¾“å‡ºï¼Œç”µæµä¸è¶…è¿‡10mA</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">TICP</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">ICPçƒ§å½•æ¥å£</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">RICP</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">ICPçƒ§å½•æ¥å£</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">GND</td>
<td align="center">P</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">ç”µæºåœ°(ä¸æ¨èç”µæºæ¥å…¥)</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">RX</td>
<td align="center">I</td>
<td align="center">3.3V</td>
<td align="center">é«˜ç”µå¹³</td>
<td align="center">UARTæ¥æ”¶å™¨æ•°æ®è¾“å…¥ï¼Œ<br>æ¨¡å—é€šä¿¡æ§åˆ¶æ¥å£</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">TX</td>
<td align="center">O</td>
<td align="center">3.3V</td>
<td align="center">é«˜ç”µå¹³</td>
<td align="center">UARTå‘é€å™¨æ•°æ®è¾“å‡ºï¼Œ<br>æ¨¡å—é€šä¿¡æ§åˆ¶æ¥å£</td>
</tr>
</tbody></table>
<h1 id="ğŸ”¥æ¥çº¿å›¾"><a href="#ğŸ”¥æ¥çº¿å›¾" class="headerlink" title="ğŸ”¥æ¥çº¿å›¾"></a>ğŸ”¥æ¥çº¿å›¾</h1><ul>
<li>æ¥çº¿å¾ˆç®€å•ï¼Œå°±æ˜¯å°†ESP32å’ŒTTSæ¨¡å—çš„ä¸²å£äº’è”ï¼Œå¹¶æ³¨æ„ä¸€å®šè¦ <em><strong>å…±åœ°</strong></em> ï¼Œç„¶åTTSå¤–æ¥å–‡å­ï¼ŒåŒæ—¶åˆ†åˆ«ä¸ºä¸¤è€…æä¾›ç”µæºã€‚</li>
<li>ESP32è¿™é‡Œç”¨çš„æ˜¯DEVKITV1ç‰ˆæœ¬ï¼Œå…¶ä»–çš„ç‰ˆæœ¬å¯ä»¥éšæƒ…å†µå˜åŒ–å¼•è„šã€‚<br><img src="/2024/01/19/%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E6%A8%A1%E5%9D%97SNR9816TTS%E2%80%94%E2%80%94%E7%BB%93%E5%90%88%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%AF%9D/ESP32%E8%81%8A%E5%A4%A9%E5%8A%A9%E6%89%8B%E6%8E%A5%E7%BA%BF%E5%9B%BE.png" alt="æ¥çº¿å›¾"></li>
</ul>
<h1 id="ğŸ”¥é€šä¿¡"><a href="#ğŸ”¥é€šä¿¡" class="headerlink" title="ğŸ”¥é€šä¿¡"></a>ğŸ”¥é€šä¿¡</h1><ul>
<li><p>è¯¥æ¨¡å—è®¾æœ‰å¤šä¸ªå‘½ä»¤ï¼ŒåŒ…æ‹¬åˆæˆè¯­éŸ³ã€æš‚åœåˆæˆã€ç»ˆæ­¢åˆæˆã€ç»§ç»­åˆæˆï¼Œè¿˜æœ‰è°ƒèŠ‚éŸ³é‡ã€è¯­é€Ÿã€éŸ³è°ƒï¼Œå¯ä»¥æŸ¥è¯¢æ¨¡å—å·¥ä½œçŠ¶æ€ï¼Œç”šè‡³æ·»åŠ é¢„è®¾å¥½çš„æç¤ºéŸ³ã€é“ƒå£°ç­‰ã€‚è¿™é‡Œåªç”¨è¯­éŸ³åˆæˆå’ŒæŸ¥è¯¢å·¥ä½œçŠ¶æ€ä¸¤ä¸ªè¯­å¥ã€‚å…¶å®ƒçš„å¯ä»¥å‚è€ƒé“¾æ¥å†…æœ‰çš„PDFæ–‡æ¡£ã€‚</p>
</li>
<li><p>è¯­éŸ³åˆæˆï¼š</p>
<table>
<thead>
<tr>
<th align="center">å¸§å¤´ï¼ˆ1byteï¼‰</th>
<th align="center">æ•°æ®é•¿åº¦ï¼ˆ2byteï¼‰</th>
<th align="center">å‘½ä»¤å­—ï¼ˆ1byteï¼‰</th>
<th align="center">ç¼–ç å‚æ•°ï¼ˆ1byteï¼‰</th>
<th align="center">æ–‡æœ¬&#x2F;GB2312ç¼–ç ï¼ˆN byteï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0xFD</td>
<td align="center">0xâ€“(é«˜8ä½)ï¼Œ0xâ€“ï¼ˆä½8ä½ï¼‰<br>é•¿åº¦&#x3D;å‘½ä»¤å­—+ç¼–ç å‚æ•°+æ–‡æœ¬</td>
<td align="center">0x01</td>
<td align="center">0x01</td>
<td align="center">æ–‡æœ¬å¯¹åº”çš„GB2312ç¼–ç </td>
</tr>
</tbody></table>
</li>
<li><p>é€šä¿¡æˆåŠŸè¿”å› 0x41</p>
</li>
<li><p>æŸ¥è¯¢çŠ¶æ€ï¼š</p>
<table>
<thead>
<tr>
<th align="center">å‘é€æ•°æ®</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0xFD 0x00 0x01 0x21</td>
<td align="center">æ¯æ¬¡å‘é€æ–‡æœ¬å‰éƒ½åº”è¯¥æŸ¥è¯¢å·¥ä½œçŠ¶æ€ï¼Œå¿…é¡»å¤„äºç©ºé—²çŠ¶æ€ï¼Œæ‰å¯ä»¥å‘é€æ–°çš„åˆæˆæ–‡æœ¬</td>
</tr>
</tbody></table>
</li>
<li><p>è¿”å› 0x4E è¡¨ç¤ºå¿™ï¼Œ0x4F è¡¨ç¤ºç©ºé—²ï¼Œå…¶ä»–æƒ…å†µè¯´æ˜é€šä¿¡å¼‚å¸¸</p>
</li>
</ul>
<h1 id="ğŸ”¥ä»£ç "><a href="#ğŸ”¥ä»£ç " class="headerlink" title="ğŸ”¥ä»£ç "></a>ğŸ”¥ä»£ç </h1><p>æ‰¿æ¥ä¸Šä¸€æ¬¡çš„ä»£ç ï¼Œå·²ç»å®Œæˆäº†ä¸å¤§æ¨¡å‹å¯¹è¯çš„åŠŸèƒ½ï¼ˆéœ€è¦åœ¨ç¡®ä¿<a href="/2024/01/15/ESP32%E8%81%8A%E5%A4%A9%E5%8A%A9%E6%89%8B%E2%80%94%E2%80%94%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/" title="ESP32èŠå¤©åŠ©æ‰‹â€”â€”æ–‡å¿ƒä¸€è¨€">ä¸ŠæœŸ</a>å·²å®ç°çš„åŸºç¡€ä¸Šç»§ç»­æµ‹è¯•ï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦å®ç°å¯¹æ¨¡å—çš„æ§åˆ¶åŠŸèƒ½å³å¯ã€‚</p>
<ul>
<li>å°†æ¥ä¸‹æ¥çš„ä¸‰ä¸ªæ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†inoæ–‡ä»¶çƒ§å½•ESP32ã€‚</li>
</ul>
<h2 id="TTS-cpp"><a href="#TTS-cpp" class="headerlink" title="TTS.cpp"></a>TTS.cpp</h2><ul>
<li>è¯¥æ–‡ä»¶å®Œæˆäº†å¯¹TTSæ¨¡å—çš„ä½¿ç”¨ï¼Œè®¾ç½®äº†ä¸€ä¸ªTTSç±»ï¼Œå¯¹ä¸²å£è¿›è¡Œåˆå§‹åŒ–ï¼Œè®¾ç½®äº†è¯­éŸ³åˆæˆå’ŒçŠ¶æ€æŸ¥è¯¢ä¸¤ä¸ªå‡½æ•°ï¼Œè¯­éŸ³åˆæˆä¼šå…ˆè¿›è¡Œä¸€æ¬¡çŠ¶æ€æŸ¥è¯¢ï¼Œæ€»å…±ç”¨åˆ°äº†ä¸¤ä¸ªä¸²å£ï¼ŒSerialå’ŒSerial2ï¼Œå‰è€…æ˜¯æˆ‘ä»¬è¾“å…¥é—®é¢˜çš„ä¸²å£ï¼Œä½¿ç”¨Arduinoå¹³å°çš„ä¸²å£çª—å£å³å¯ï¼Œåè€…æ˜¯ESP32å’ŒTTSæ¨¡å—é€šä¿¡çš„ä¸²å£ï¼ˆè¦æ¥çº¿çš„ï¼‰ã€‚</li>
</ul>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"TTS.h"</span></span>

TTSModule<span class="token operator">::</span><span class="token function">TTSModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> TTSModule<span class="token operator">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Serial2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">,</span> SERIAL_8N1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Serial2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Invalid EspSoftwareSerial pin configuration, check config"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">delay</span> <span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> 
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">"è¯­éŸ³æ¨¡å—å°±ç»ª"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> TTSModule<span class="token operator">::</span><span class="token function">speak</span><span class="token punctuation">(</span>String data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">workstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">workstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"tts busy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">workstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"tts wrong"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Speaking: "</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  String utf8_str <span class="token operator">=</span> data<span class="token punctuation">;</span>
  String gb2312_str <span class="token operator">=</span> GB<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>utf8_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">unsigned</span> <span class="token keyword">char</span> head<span class="token punctuation">[</span>gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">unsigned</span> <span class="token keyword">char</span> gb2312_data<span class="token punctuation">[</span>gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">memset</span><span class="token punctuation">(</span>gb2312_data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>gb2312_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">strncpy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>gb2312_data<span class="token punctuation">,</span> gb2312_str<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0xFD</span><span class="token punctuation">;</span>
  <span class="token keyword">unsigned</span> <span class="token keyword">int</span> dat_len <span class="token operator">=</span> gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> dat_len <span class="token operator">>></span> <span class="token number">8</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> dat_len<span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x01</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x01</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    head<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> gb2312_data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  head<span class="token punctuation">[</span>gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    head<span class="token punctuation">[</span>gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">^</span><span class="token operator">=</span> head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> gb2312_str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial2<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>head<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> TTSModule<span class="token operator">::</span><span class="token function">workstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">unsigned</span> <span class="token keyword">char</span> head<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0xFD</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  head<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x21</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial2<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>head<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>Serial2<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  byte response <span class="token operator">=</span> Serial2<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token number">0x4E</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token number">0x4F</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="TTS-h"><a href="#TTS-h" class="headerlink" title="TTS.h"></a>TTS.h</h2><ul>
<li>TTS.cppæ–‡ä»¶çš„å¤´æ–‡ä»¶</li>
</ul>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">ifndef</span> TTS_MODULE_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> TTS_MODULE_H</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"UTF8ToGB2312.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">TTSModule</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token function">TTSModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">speak</span><span class="token punctuation">(</span>String data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
  <span class="token keyword">int</span> <span class="token function">workstate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">char</span> <span class="token function">snr9816tts_say_sentence</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span>sentence<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ino"><a href="#ino" class="headerlink" title="ino"></a>ino</h2><ul>
<li>åœ¨ä¸ŠæœŸçš„ä»£ç åŸºç¡€ä¸Šï¼Œåœ¨setupè°ƒç”¨äº†TTSåˆå§‹åŒ–ï¼Œåœ¨loopä¸­æ”¶åˆ°è¯­è¨€æ¨¡å‹ç­”æ¡ˆæ—¶è°ƒç”¨speakå‡½æ•°ï¼Œæ³¨æ„æŠŠaccess token å’Œ wifi è¿›è¡Œæ›´æ”¹ã€‚</li>
</ul>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;WiFi.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;HTTPClient.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ArduinoJson.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"TTS.h"</span></span>

TTSModule ttsModule<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 1. Replace with your network credentials</span>
<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> ssid <span class="token operator">=</span> <span class="token string">"wifiåç§°"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> password <span class="token operator">=</span> <span class="token string">"wifiå¯†ç "</span><span class="token punctuation">;</span>

String inputText <span class="token operator">=</span> <span class="token string">"ä½ å¥½"</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 2. Replace with your access_token</span>
String apiUrl <span class="token operator">=</span> <span class="token string">"https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions?access_token=xxxxx"</span><span class="token punctuation">;</span>

String answer<span class="token punctuation">;</span>
String <span class="token function">getGPTAnswer</span><span class="token punctuation">(</span>String inputText<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  HTTPClient http<span class="token punctuation">;</span>
  http<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>apiUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  http<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//è¶…è¿‡æ—¶é—´ï¼Œå›ç­”è¶…æ—¶ï¼ˆmsï¼‰</span>
  http<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// http.addHeader("access_token", String(access_token));</span>
  String payload <span class="token operator">=</span> <span class="token string">"{\"messages\":[{\"role\": \"user\",\"content\": \""</span> <span class="token operator">+</span> inputText <span class="token operator">+</span> <span class="token string">"\"}],\"disable_search\": false,\"enable_citation\": false}"</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> httpResponseCode <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>httpResponseCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    String response <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    http<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// Parse JSON response</span>
    DynamicJsonDocument <span class="token function">jsonDoc</span><span class="token punctuation">(</span><span class="token number">2048</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">deserializeJson</span><span class="token punctuation">(</span>jsonDoc<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    String outputText <span class="token operator">=</span> jsonDoc<span class="token punctuation">[</span><span class="token string">"result"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> outputText<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Serial.println(outputText);</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    http<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Error %i \n"</span><span class="token punctuation">,</span> httpResponseCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">"&lt;error>"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ttsModule<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment" spellcheck="true">// Initialize Serial</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// Connect to Wi-Fi network</span>
  WiFi<span class="token punctuation">.</span><span class="token function">mode</span><span class="token punctuation">(</span>WIFI_STA<span class="token punctuation">)</span><span class="token punctuation">;</span>
  WiFi<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>ssid<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Connecting to WiFi .."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> WL_CONNECTED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  answer <span class="token operator">=</span> <span class="token function">getGPTAnswer</span><span class="token punctuation">(</span>inputText<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Answer: "</span> <span class="token operator">+</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Enter a prompt:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// do nothing</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Serial<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    inputText <span class="token operator">=</span> Serial<span class="token punctuation">.</span><span class="token function">readStringUntil</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// inputText.trim();</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\n Input:"</span><span class="token operator">+</span>inputText<span class="token punctuation">)</span><span class="token punctuation">;</span>

    answer <span class="token operator">=</span> <span class="token function">getGPTAnswer</span><span class="token punctuation">(</span>inputText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Answer: "</span> <span class="token operator">+</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Enter a prompt:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ttsModule<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="ğŸ”¥æµ‹è¯•"><a href="#ğŸ”¥æµ‹è¯•" class="headerlink" title="ğŸ”¥æµ‹è¯•"></a>ğŸ”¥æµ‹è¯•</h1><h2 id="ä¸Šä½æœºè½¯ä»¶"><a href="#ä¸Šä½æœºè½¯ä»¶" class="headerlink" title="ä¸Šä½æœºè½¯ä»¶"></a>ä¸Šä½æœºè½¯ä»¶</h2><ul>
<li>å…ˆä½¿ç”¨æ¨¡å—å®˜æ–¹æä¾›çš„ä¸Šä½æœºè½¯ä»¶è¿›è¡Œè°ƒè¯•ï¼ˆåœ¨é“¾æ¥æœ‰ï¼‰ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå®šåˆ¶åŒ–çš„ä¸²å£è°ƒè¯•å™¨ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¹‹å‰æåˆ°çš„æ‰€æœ‰åŠŸèƒ½ï¼Œåœ¨è¿™é‡Œéƒ½å¯ä»¥æ–¹ä¾¿è°ƒè¯•ã€‚</li>
<li>é¦–å…ˆæ¥çº¿åªéœ€å°†ESP32æš‚æ—¶æ¢æˆUSBè½¬ä¸²å£çš„æ¨¡å—å³å¯ï¼Œè¿˜æ˜¯ TX&#x2F;RX&#x2F;GND ä¸‰æ ¹çº¿å°±è¡Œäº†ã€‚ç„¶åæ’ä¸Šç”µè„‘ï¼Œé€‰æ‹©å¯¹åº” COM å£å¹¶æ‰“å¼€ã€‚</li>
<li>å…ˆç‚¹å‡»å·¥ä½œçŠ¶æ€æŸ¥è¯¢ï¼Œä¸‹æ–¹æ”¶å‘çª—å£ä¸­æ˜¾ç¤ºçš„å‘é€å’Œæ¥æ”¶çš„ä¿¡æ¯éƒ½ç¬¦åˆé€šä¿¡åè®®ã€‚</li>
<li>ç„¶åæµ‹è¯•è¯­éŸ³ï¼Œè¿™é‡Œæˆ‘è¾“å…¥12ï¼Œè¯­éŸ³æ’­æŠ¥â€œåäºŒâ€è€Œä¸æ˜¯â€œä¸€äºŒâ€ï¼Œå› ä¸ºè¯¥æ¨¡å—èƒ½å¤Ÿå®ç°å¯¹äºæ•°å­—çš„å£è¯­åŒ–ã€‚è§‚å¯Ÿæ”¶å‘çª—å£å¯ä»¥çœ‹åˆ°è¿”å›äº† 0x41ï¼Œè¯´æ˜é€šä¿¡æ­£å¸¸ã€‚<br><img src="/2024/01/19/%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E6%A8%A1%E5%9D%97SNR9816TTS%E2%80%94%E2%80%94%E7%BB%93%E5%90%88%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%AF%9D/%E4%B8%8A%E4%BD%8D%E6%9C%BA%E8%B0%83%E8%AF%95.jpg" alt="ä¸Šä½æœºè°ƒè¯•"></li>
<li>åé¢æˆ‘ä¹Ÿè°ƒè¯•äº†éŸ³é‡ã€æç¤ºéŸ³ç­‰å…¶ä»–åŠŸèƒ½ä¹Ÿæ˜¯èƒ½æ­£å¸¸è¿ä½œï¼Œåœ¨æ­¤ä¸å¤šå±•ç¤ºï¼Œè¯´æ˜æ¨¡å—æ˜¯æ­£å¸¸å·¥ä½œçš„ï¼Œæ¥ä¸‹æ¥åªéœ€éªŒè¯ä»£ç ã€‚</li>
</ul>
<h2 id="æ­£å¼è°ƒè¯•"><a href="#æ­£å¼è°ƒè¯•" class="headerlink" title="æ­£å¼è°ƒè¯•"></a>æ­£å¼è°ƒè¯•</h2><ul>
<li>æŒ‰æ¥çº¿å›¾æ¥çº¿åï¼Œçƒ§å½•ESP32ä»£ç ï¼Œä¸Šç”µï¼Œå³å¯åœ¨Arduinoçš„ä¸²å£ç•Œé¢è¿›è¡ŒéªŒè¯ã€‚</li>
<li>å…ˆé€šç”µæ—¶å‘å‡ºâ€œè¯­éŸ³æ¨¡å—å°±ç»ªâ€ï¼ˆè§†é¢‘æ²¡å±•ç¤ºï¼‰ï¼Œè¯´æ˜TTSæ¨¡å—å¯ä»¥å·¥ä½œï¼Œç„¶ååœ¨è¾“å…¥æ¡†è¾“å…¥é—®é¢˜ï¼Œå¾—åˆ°äº†å¯¹åº”çš„è¯­éŸ³ç»“æœï¼Œè¯´æ˜è°ƒè¯•æˆåŠŸã€‚<br><img src="/2024/01/19/%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E6%A8%A1%E5%9D%97SNR9816TTS%E2%80%94%E2%80%94%E7%BB%93%E5%90%88%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%AF%9D/%E6%AD%A3%E5%BC%8F%E8%B0%83%E8%AF%95%E7%BB%93%E6%9E%9C.jpg" alt="æ­£å¼è°ƒè¯•ç»“æœ"><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"video":{"url":"/2024/01/19/æ–‡æœ¬è½¬è¯­éŸ³æ¨¡å—SNR9816TTSâ€”â€”ç»“åˆè¯­è¨€æ¨¡å‹è¿›è¡Œå¯¹è¯/è°ƒè¯•ç»“æœ.mov","pic":"æ­£å¼è°ƒè¯•ç»“æœ.jpg"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script></li>
<li>æ³¨æ„ï¼Œå¤æ‚é—®é¢˜é€šå¸¸è¦ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰èƒ½å›å¤ã€‚</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        åˆ†äº«
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://legendleochen.top/2024/01/19/%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E6%A8%A1%E5%9D%97SNR9816TTS%E2%80%94%E2%80%94%E7%BB%93%E5%90%88%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%AF%9D/" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ESP32/" rel="tag">ESP32</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LLM/" rel="tag">LLM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TTS/" rel="tag">TTS</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
    
      <a href="/2024/01/15/ESP32%E8%81%8A%E5%A4%A9%E5%8A%A9%E6%89%8B%E2%80%94%E2%80%94%E6%96%87%E5%BF%83%E4%B8%80%E8%A8%80/" class="article-nav-link">
        <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
        <div class="article-nav-title">ESP32èŠå¤©åŠ©æ‰‹â€”â€”æ–‡å¿ƒä¸€è¨€</div>
      </a>
    
  </nav>

  
   
  
    
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2023-2024
        <i class="ri-heart-fill heart_icon"></i> LegendLeo Chen
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>è®¿é—®äººæ•°:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>æµè§ˆæ¬¡æ•°:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/mylogo.png" alt="LegendLeo Chen çš„ç©ºé—´"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ğŸš€ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">ğŸ’¾å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">ğŸ§­åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">ğŸ·ï¸æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">ğŸ›¸å…³äº</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/analytics">ğŸ“Šç»Ÿè®¡</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/secret">ğŸ”ç§˜å¯†</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="æœç´¢">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=1491212&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    

  </div>
  <!-- èƒŒæ™¯æ°”æ³¡ -->
  <!--
  <div class="balls-container">
    <div class="balls-particles">
      <span style="--i:11;"></span>
      <span style="--i:12;"></span>
      <span style="--i:24;"></span>
      <span style="--i:10;"></span>
      <span style="--i:14;"></span>
      <span style="--i:23;"></span>
      <span style="--i:18;"></span>
      <span style="--i:16;"></span>
      <span style="--i:19;"></span>
      <span style="--i:20;"></span>
      <span style="--i:22;"></span>
      <span style="--i:25;"></span>
      <span style="--i:18;"></span>
      <span style="--i:21;"></span>
      <span style="--i:13;"></span>
      <span style="--i:15;"></span>
      <span style="--i:26;"></span>
      <span style="--i:17;"></span>
      <span style="--i:13;"></span>
      <span style="--i:26;"></span>
      <span style="--i:28;"></span>
      <span style="--i:11;"></span>
      <span style="--i:12;"></span>
      <span style="--i:24;"></span>
      <span style="--i:10;"></span>
      <span style="--i:14;"></span>
      <span style="--i:23;"></span>
      <span style="--i:18;"></span>
      <span style="--i:16;"></span>
      <span style="--i:19;"></span>
      <span style="--i:20;"></span>
      <span style="--i:22;"></span>
      <span style="--i:25;"></span>
      <span style="--i:18;"></span>
      <span style="--i:21;"></span>
      <span style="--i:13;"></span>
      <span style="--i:15;"></span>
      <span style="--i:26;"></span>
      <span style="--i:17;"></span>
      <span style="--i:13;"></span>
      <span style="--i:26;"></span>
      <span style="--i:28;"></span>
    </div>
  </div>
  <style>
    *
    {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    .balls-container
    { 
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      opacity: 0.3;
    }
    
    .balls-particles
    {
      position: fixed;
      display: flex;
      z-index: 3;
      padding: 0 20px;
    }
    
    .balls-particles span
    {
      position: relative;
      bottom: 30px;
      width: 30px;
      height: 30px;
      background-color: #4fc3dc;
      box-shadow: 0 0 0 10px #4fc3dc44,
      0 0 50px #4fc3dc,
      -100px 0 #4fc3dc99,
      100px 0 #ff2d7599;
      margin: 0 4px;
      border-radius: 50%;
      animation: animate 15s ease infinite;
      animation-delay: calc(125s / var(--i));
      transform: translateY(120vh);
    }
    .balls-particles span:nth-child(even) {
      background-color: #ff2d75;
      box-shadow: 0 0 0 10px #ff267544,
      0 0 50px #ff2d75,
      -100px 0 #4fc3dc99,
      100px 0 #4fc3dc99;
      ;
    }
    
    @keyframes animate {
      0%
      {
        transform: translateY(120vh) scale(0) rotate(0deg);
      }
      20%
      {
        transform: translateY(100vh) scale(1) rotate(0deg);
      }
      100%
      {
        transform: translateY(-50vh) scale(0.5) rotate(360deg);
      }
    }
  </style> -->
  <!-- åœ°æœˆç³»ç»Ÿ -->
  <!-- <div class="earth-container" >
    <div class="planet"></div>
    <div class="satellite"></div>
   </div>
   <style>
    *{
      padding: 0;
      margin: 0;
      }
      .earth-container {
        width: 36.25em;
        height: 36.25em;
        position: absolute;
        top:5%;
        left: 93%;
        transform: translate(-50%, -50%);
        opacity: 0.3;
      }
      
      .planet{
        width: 15.62*3em;
        height: 15.62*3em;
        background-color: #02c0f5;
        border-radius: 50%;
        position: absolute;
        margin: auto;
        top:0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
      }
      
      .planet::before{
        content: '';
        width: 4em;
        height: 4em;
        background-color: #008fd6;
        position: absolute;
        top:10em;
        left: 8em;
        border-radius: 50%; 
        box-shadow: 15em 15em 0 2em #00d68b, 5em 8em 0 3em #10ade1;
      }
      
      .satellite{
        width: 5em;
        height: 5em;
        background-color: #dee517;
        border-radius: 50%;
        position: relative;
        left: -5em;
        bottom: -30em;
        animation: spin 5s infinite;
        z-index: 1;
      }
      
      @keyframes spin {
        49%{
          z-index: 1;
        }
        50%{
          bottom: 3em;
          left: 35em;
          z-index: -1;
        }
        100%{
          z-index: -1;
        }
      }
    </style> -->
<!-- ä¸‰è§’å½©å¸¦èƒŒæ™¯ -->
  <canvas id="evanyou-canvas" style="opacity: 0.3; position: fixed; top: 0px; left: 0px; z-index: -1; width: 100%; height: 100%; pointer-events: none;"></canvas>
  <script src="https://cdn.jsdelivr.net/gh/XXXZhy/Blog_Image/js/evanyou_canvas.js"></script>
</body>

</html>